{"ast":null,"code":"import _regeneratorRuntime from\"/home/maximiliano/Documentos/Man-est-cons-APIs-TS /node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/maximiliano/Documentos/Man-est-cons-APIs-TS /node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/home/maximiliano/Documentos/Man-est-cons-APIs-TS /node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{Box,Center,Input}from\"@chakra-ui/react\";import{useContext,useState}from\"react\";import{useNavigate}from\"react-router-dom\";import{AppContext}from\"../components/AppContext\";import{Card}from\"../components/Card\";import DButton from\"../components/DButton\";import{login}from\"../services/login\";import{changeLocalStorage}from\"../services/storage\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Home=function Home(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),email=_useState2[0],setEmail=_useState2[1];var _useContext=useContext(AppContext),setIsLoggedIn=_useContext.setIsLoggedIn;var navigate=useNavigate();var validateUser=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(email){var loggedIn;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return login(email);case 2:loggedIn=_context.sent;if(loggedIn){_context.next=5;break;}return _context.abrupt(\"return\",alert(\"Email inválido\"));case 5:setIsLoggedIn(true);changeLocalStorage({login:true});navigate(\"/conta/1\");case 8:case\"end\":return _context.stop();}}},_callee);}));return function validateUser(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsx(Box,{padding:\"25px\",children:/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsx(Center,{children:/*#__PURE__*/_jsx(\"h1\",{children:\"Fa\\xE7a o login\"})}),/*#__PURE__*/_jsx(Input,{placeholder:\"email\",value:email,onChange:function onChange(event){return setEmail(event.target.value);}}),/*#__PURE__*/_jsx(Input,{placeholder:\"password\",type:\"password\"}),/*#__PURE__*/_jsx(Center,{children:/*#__PURE__*/_jsx(DButton,{onClick:function onClick(){return validateUser(email);}})})]})});};export default Home;","map":{"version":3,"names":["Box","Center","Input","useContext","useState","useNavigate","AppContext","Card","DButton","login","changeLocalStorage","Home","email","setEmail","setIsLoggedIn","navigate","validateUser","loggedIn","alert","event","target","value"],"sources":["/home/maximiliano/Documentos/Man-est-cons-APIs-TS /src/pages/Home.tsx"],"sourcesContent":["import { Box, Center, Input } from \"@chakra-ui/react\";\nimport { useContext, useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { AppContext } from \"../components/AppContext\";\nimport { Card } from \"../components/Card\";\nimport DButton from \"../components/DButton\";\nimport { login } from \"../services/login\";\nimport { changeLocalStorage } from \"../services/storage\";\n\nconst Home = () => {\n  const [email, setEmail] = useState<string>(\"\");\n  const { setIsLoggedIn } = useContext(AppContext);\n  const navigate = useNavigate();\n\n  const validateUser = async (email: string) => {\n    const loggedIn = await login(email);\n\n    if (!loggedIn) {\n      return alert(\"Email inválido\");\n    }\n\n    setIsLoggedIn(true);\n    changeLocalStorage({ login: true });\n    navigate(\"/conta/1\");\n  };\n\n  return (\n    <Box padding=\"25px\">\n      <Card>\n        <Center>\n          <h1>Faça o login</h1>\n        </Center>\n        <Input\n          placeholder=\"email\"\n          value={email}\n          onChange={(event) => setEmail(event.target.value)}\n        />\n        <Input\n          placeholder=\"password\"\n          type=\"password\"\n        />\n        <Center>\n          <DButton onClick={() => validateUser(email)} />\n        </Center>\n      </Card>\n    </Box>\n  );\n};\n\nexport default Home;\n"],"mappings":"waAAA,OAASA,GAAT,CAAcC,MAAd,CAAsBC,KAAtB,KAAmC,kBAAnC,CACA,OAASC,UAAT,CAAqBC,QAArB,KAAqC,OAArC,CACA,OAASC,WAAT,KAA4B,kBAA5B,CACA,OAASC,UAAT,KAA2B,0BAA3B,CACA,OAASC,IAAT,KAAqB,oBAArB,CACA,MAAOC,QAAP,KAAoB,uBAApB,CACA,OAASC,KAAT,KAAsB,mBAAtB,CACA,OAASC,kBAAT,KAAmC,qBAAnC,C,wFAEA,GAAMC,KAAI,CAAG,QAAPA,KAAO,EAAM,CACjB,cAA0BP,QAAQ,CAAS,EAAT,CAAlC,wCAAOQ,KAAP,eAAcC,QAAd,eACA,gBAA0BV,UAAU,CAACG,UAAD,CAApC,CAAQQ,aAAR,aAAQA,aAAR,CACA,GAAMC,SAAQ,CAAGV,WAAW,EAA5B,CAEA,GAAMW,aAAY,4FAAG,iBAAOJ,KAAP,uJACIH,MAAK,CAACG,KAAD,CADT,QACbK,QADa,kBAGdA,QAHc,yDAIVC,KAAK,CAAC,gBAAD,CAJK,SAOnBJ,aAAa,CAAC,IAAD,CAAb,CACAJ,kBAAkB,CAAC,CAAED,KAAK,CAAE,IAAT,CAAD,CAAlB,CACAM,QAAQ,CAAC,UAAD,CAAR,CATmB,sDAAH,kBAAZC,aAAY,4CAAlB,CAYA,mBACE,KAAC,GAAD,EAAK,OAAO,CAAC,MAAb,uBACE,MAAC,IAAD,yBACE,KAAC,MAAD,wBACE,uCADF,EADF,cAIE,KAAC,KAAD,EACE,WAAW,CAAC,OADd,CAEE,KAAK,CAAEJ,KAFT,CAGE,QAAQ,CAAE,kBAACO,KAAD,QAAWN,SAAQ,CAACM,KAAK,CAACC,MAAN,CAAaC,KAAd,CAAnB,EAHZ,EAJF,cASE,KAAC,KAAD,EACE,WAAW,CAAC,UADd,CAEE,IAAI,CAAC,UAFP,EATF,cAaE,KAAC,MAAD,wBACE,KAAC,OAAD,EAAS,OAAO,CAAE,yBAAML,aAAY,CAACJ,KAAD,CAAlB,EAAlB,EADF,EAbF,GADF,EADF,CAqBD,CAtCD,CAwCA,cAAeD,KAAf"},"metadata":{},"sourceType":"module"}