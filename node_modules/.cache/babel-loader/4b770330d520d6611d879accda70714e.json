{"ast":null,"code":"import _regeneratorRuntime from\"/home/maximiliano/Documentos/Man-est-cons-APIs-TS /node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/maximiliano/Documentos/Man-est-cons-APIs-TS /node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/home/maximiliano/Documentos/Man-est-cons-APIs-TS /node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{Center,SimpleGrid,Spinner}from\"@chakra-ui/react\";import{useParams,useNavigate}from\"react-router-dom\";import{useContext,useEffect,useState}from\"react\";import{api}from\"../api\";import CardInfo from\"../components/CardInfo\";import{AppContext}from\"../components/AppContext\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Conta=function Conta(){var _useState=useState(),_useState2=_slicedToArray(_useState,2),userData=_useState2[0],setUserData=_useState2[1];var _useParams=useParams(),id=_useParams.id;var navigate=useNavigate();var _useContext=useContext(AppContext),isLoggedIn=_useContext.isLoggedIn;!isLoggedIn&&navigate('/');useEffect(function(){var getData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return api;case 2:data=_context.sent;setUserData(data);case 4:case\"end\":return _context.stop();}}},_callee);}));return function getData(){return _ref.apply(this,arguments);};}();getData();},[]);var actualData=new Date();if(userData&&id!==userData.id){navigate('/');}return/*#__PURE__*/_jsx(Center,{children:/*#__PURE__*/_jsx(SimpleGrid,{columns:2,spacing:8,paddingTop:16,children:userData===undefined||userData===null?/*#__PURE__*/_jsx(Center,{children:/*#__PURE__*/_jsx(Spinner,{size:\"xl\",color:\"white\"})}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(CardInfo,{mainContent:\"Bem vindo \".concat(userData===null||userData===void 0?void 0:userData.name,\"!\"),content:\"\".concat(actualData.getDay(),\" / \").concat(actualData.getMonth(),\" / \").concat(actualData.getFullYear(),\" \").concat(actualData.getHours(),\":\").concat(actualData.getMinutes())}),/*#__PURE__*/_jsx(CardInfo,{mainContent:\"Saldo\",content:\"R$ \".concat(userData.balance)})]})})});};export default Conta;","map":{"version":3,"names":["Center","SimpleGrid","Spinner","useParams","useNavigate","useContext","useEffect","useState","api","CardInfo","AppContext","Conta","userData","setUserData","id","navigate","isLoggedIn","getData","data","actualData","Date","undefined","name","getDay","getMonth","getFullYear","getHours","getMinutes","balance"],"sources":["/home/maximiliano/Documentos/Man-est-cons-APIs-TS /src/pages/Conta.tsx"],"sourcesContent":["import { Center, SimpleGrid, Spinner } from \"@chakra-ui/react\"\nimport { useParams, useNavigate } from \"react-router-dom\"\nimport { useContext, useEffect, useState } from \"react\"\nimport { api } from \"../api\"\nimport CardInfo from \"../components/CardInfo\"\nimport { AppContext } from \"../components/AppContext\"\n\ninterface UserData {\n    email: string\n    password: string\n    name: string\n    balance: number\n    id: string\n}\n\nconst Conta = () => {\n    const [ userData, setUserData ] = useState<null | UserData>()\n    const { id } = useParams()\n    const navigate = useNavigate()\n\n    const { isLoggedIn } = useContext(AppContext)\n\n    !isLoggedIn && navigate('/')\n\n    useEffect(() => {\n        const getData = async () => {\n            const data: any | UserData = await api\n            setUserData(data)\n        }\n\n        getData()\n    }, [])\n\n    const actualData = new Date()\n\n    if(userData && id !== userData.id) {\n        navigate('/')\n    }\n  \n    return (\n        <Center>\n            <SimpleGrid columns={2} spacing={8} paddingTop={16}>\n                {\n                    userData === undefined || userData === null ?\n                    (  \n                        <Center>\n                            <Spinner size='xl' color='white'/>\n                        </Center>\n                    ) : \n                    (\n                        <>\n                            <CardInfo mainContent={`Bem vindo ${userData?.name}!`} content={`${actualData.getDay()} / ${actualData.getMonth()} / ${actualData.getFullYear()} ${actualData.getHours()}:${actualData.getMinutes()}`} />\n                            <CardInfo mainContent='Saldo' content={`R$ ${userData.balance}`}/>\n                        </>\n                    )\n                }\n            </SimpleGrid>    \n        </Center>\n    )\n}\n\nexport default Conta\n"],"mappings":"waAAA,OAASA,MAAT,CAAiBC,UAAjB,CAA6BC,OAA7B,KAA4C,kBAA5C,CACA,OAASC,SAAT,CAAoBC,WAApB,KAAuC,kBAAvC,CACA,OAASC,UAAT,CAAqBC,SAArB,CAAgCC,QAAhC,KAAgD,OAAhD,CACA,OAASC,GAAT,KAAoB,QAApB,CACA,MAAOC,SAAP,KAAqB,wBAArB,CACA,OAASC,UAAT,KAA2B,0BAA3B,C,6IAUA,GAAMC,MAAK,CAAG,QAARA,MAAQ,EAAM,CAChB,cAAkCJ,QAAQ,EAA1C,wCAAQK,QAAR,eAAkBC,WAAlB,eACA,eAAeV,SAAS,EAAxB,CAAQW,EAAR,YAAQA,EAAR,CACA,GAAMC,SAAQ,CAAGX,WAAW,EAA5B,CAEA,gBAAuBC,UAAU,CAACK,UAAD,CAAjC,CAAQM,UAAR,aAAQA,UAAR,CAEA,CAACA,UAAD,EAAeD,QAAQ,CAAC,GAAD,CAAvB,CAEAT,SAAS,CAAC,UAAM,CACZ,GAAMW,QAAO,4FAAG,oKACuBT,IADvB,QACNU,IADM,eAEZL,WAAW,CAACK,IAAD,CAAX,CAFY,sDAAH,kBAAPD,QAAO,0CAAb,CAKAA,OAAO,GACV,CAPQ,CAON,EAPM,CAAT,CASA,GAAME,WAAU,CAAG,GAAIC,KAAJ,EAAnB,CAEA,GAAGR,QAAQ,EAAIE,EAAE,GAAKF,QAAQ,CAACE,EAA/B,CAAmC,CAC/BC,QAAQ,CAAC,GAAD,CAAR,CACH,CAED,mBACI,KAAC,MAAD,wBACI,KAAC,UAAD,EAAY,OAAO,CAAE,CAArB,CAAwB,OAAO,CAAE,CAAjC,CAAoC,UAAU,CAAE,EAAhD,UAEQH,QAAQ,GAAKS,SAAb,EAA0BT,QAAQ,GAAK,IAAvC,cAEI,KAAC,MAAD,wBACI,KAAC,OAAD,EAAS,IAAI,CAAC,IAAd,CAAmB,KAAK,CAAC,OAAzB,EADJ,EAFJ,cAOI,wCACI,KAAC,QAAD,EAAU,WAAW,qBAAeA,QAAf,SAAeA,QAAf,iBAAeA,QAAQ,CAAEU,IAAzB,KAArB,CAAuD,OAAO,WAAKH,UAAU,CAACI,MAAX,EAAL,eAA8BJ,UAAU,CAACK,QAAX,EAA9B,eAAyDL,UAAU,CAACM,WAAX,EAAzD,aAAqFN,UAAU,CAACO,QAAX,EAArF,aAA8GP,UAAU,CAACQ,UAAX,EAA9G,CAA9D,EADJ,cAEI,KAAC,QAAD,EAAU,WAAW,CAAC,OAAtB,CAA8B,OAAO,cAAQf,QAAQ,CAACgB,OAAjB,CAArC,EAFJ,GATZ,EADJ,EADJ,CAoBH,CA5CD,CA8CA,cAAejB,MAAf"},"metadata":{},"sourceType":"module"}